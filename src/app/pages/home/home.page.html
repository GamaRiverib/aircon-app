<ion-header translucent>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>Aircon</ion-title>
    <ion-buttons slot="secondary">
      <ion-button (clic)="connect()">
        <ion-icon slot="icon-only" [name]="(online ? 'cloud' : 'cloud-offline') + '-outline' " [color]="online ? 'success' : 'danger'"></ion-icon>
      </ion-button>
      <ion-button (click)="addDevice()">
        <ion-icon slot="icon-only" name="add"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
<ion-content>
  <ion-list>
    <ion-card *ngFor="let device of devices" (click)="showDevice(device)">
      <ion-card-header>
        <ion-card-title>
          <ion-icon 
            [name]="'radio-button-' + (device.status == 'Online' ? 'on' : 'off')"
            [color]="device.status == 'Online' ? 'success' : 'danger'">
          </ion-icon>
          {{ device.name }}
        </ion-card-title>
      </ion-card-header>
      <ion-card-content *ngIf="device.state">
        <ion-grid>
          <ion-row>
            <ion-col size="4">
              <ion-row>
                <h4>Power: <b class="ion-text-uppercase">{{ device.state.power || '--'  }}</b></h4>
              </ion-row>
              <ion-row>
                <h4>Mode: <b class="ion-text-uppercase">{{ device.state.mode || '--' }}</b></h4>
              </ion-row>
            </ion-col>
            <ion-col size="2" class="ion-text-right" style="margin-top: 5px;">
              <ion-icon size="large" name="thermometer-outline"></ion-icon>
            </ion-col>
            <ion-col size="6">
              <ion-text>
                <h1 class="device-state-temp ion-text-left">
                  {{ device.state.temp }} 
                  <span class="device-state-use_celsius">
                    {{ device.state.use_celsius == 'off' ? '°F' : '°C'  }}
                  </span>
                </h1>
              </ion-text>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-card-content>
    </ion-card>
  </ion-list>
</ion-content>
